<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Table Selector Demo</title>
    <link rel="stylesheet" href="../css/selector.css">
    <style type="text/css">
        table, th, td {
            border: 1px solid;
        }
    </style>
</head>
<body>
<div id="selector"></div>
<table id="target">
    <thead>
    <tr>
        <td>Header1</td>
        <td>Header2</td>
        <td>Header3</td>
    </tr>
    </thead>
    <tbody>
    <tr data="1st row">
        <td data="11">11</td>
        <td>12</td>
        <td>13</td>
    </tr>
    <tr data="2ed row">
        <td>21</td>
        <td data="22">22</td>
        <td>23</td>
    </tr>
    <tr data="3rd">
        <td>31</td>
        <td>32</td>
        <td data="33">33</td>
    </tr>
    <tr data="4th row">
        <td>41</td>
        <td>42</td>
        <td>43</td>
    </tr>
    <tr data="5th row">
        <td>51</td>
        <td>52</td>
        <td>53</td>
    </tr>
    <tr data="5th row">
        <td>51</td>
        <td>52</td>
        <td>53</td>
    </tr>
    </tbody>
</table>

<script type="text/javascript" src="../js/lib/jquery.js"></script>
<script type="text/javascript" src="../js/selector.js"></script>
<script type="text/javascript">
    constructorAction = function(){alert("I'm a constructor-generated!");};
    var s = new Selector({
        title: "selected itemsï¼š",
        id: "selector",
        context: this,
        actions:[
            {
                name:"constructor",
                action:this.constructorAction
            }
        ],
        table: {
            id: "target"
//            type: 'cell',
//            splitter:"&"
        },
        style: {
            width: "800px"
        },
        listeners: [
            {
                context: this,
                method: "constructorAction",//sync function
                action: function () {
                    alert("ConstructorAction listened!");
                }
            }
        ]
    }).show();

    s.addActionButton({
        name:"selected items",
        action:function(){alert("You have selected: " + s.getSelectedItems().join());}
    });

    s.bindListener({
        context: s,
        method: "pushItem",//sync function
        action: function () {
            alert("you selected " + s.getSelectedItems()[s.getSelectedItems().length - 1]);
        }
    });
//
//    s.bindListener({
//        context: this,
//        method: "testFun",
//        action: function () {
//            console.log("catch async");
//        },
//        async: 0
//    });
</script>
</body>
</html>